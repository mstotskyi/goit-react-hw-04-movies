(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[1],{56:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(58);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,i=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(c=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);c=!0);}catch(s){i=!0,a=s}finally{try{c||null==o.return||o.return()}finally{if(i)throw a}}return n}}(e,t)||Object(c.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},57:function(e,t,n){"use strict";function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}n.d(t,"a",(function(){return c}))},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(57);function i(e,t){if(e){if("string"===typeof e)return Object(c.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(c.a)(e,t):void 0}}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(14),i=n(15),a=function(){function e(){Object(c.a)(this,e),this.searchQuery="",this.page=1,this.movieId=null}return Object(i.a)(e,[{key:"fetchSearchMovies",value:function(){var e="".concat("https://api.themoviedb.org/3/","search/movie?api_key=").concat("51424edfe4a0fc9e4606a6acf74e98bb","&language=en-US&query=").concat(this.searchQuery,"&page=").concat(this.page,"&include_adult=false");return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}},{key:"fetchTrendingFilms",value:function(){var e="".concat("https://api.themoviedb.org/3/","trending/movie/day?api_key=").concat("51424edfe4a0fc9e4606a6acf74e98bb","&page=").concat(this.page);return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}},{key:"fetchMoviesById",value:function(){var e="".concat("https://api.themoviedb.org/3/","movie/").concat(this.movieId,"?api_key=").concat("51424edfe4a0fc9e4606a6acf74e98bb");return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}},{key:"fetchCastById",value:function(){var e="".concat("https://api.themoviedb.org/3/","movie/").concat(this.movieId,"/credits?api_key=").concat("51424edfe4a0fc9e4606a6acf74e98bb");return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}},{key:"fetchReviewsById",value:function(){var e="".concat("https://api.themoviedb.org/3/","movie/").concat(this.movieId,"/reviews?api_key=").concat("51424edfe4a0fc9e4606a6acf74e98bb","&language=en-US&page=1");return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"getHits",value:function(e){this.total_results=e}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"movieId",get:function(){return this.id},set:function(e){this.id=e}}]),e}()},60:function(e,t,n){"use strict";t.a=n.p+"static/media/default.5797bfb5.jpg"},67:function(e,t,n){e.exports={castGallery:"Cast_castGallery__1Y_Qk",ImgThumb:"Cast_ImgThumb__2n8qA",CastImage:"Cast_CastImage__3XELE"}},68:function(e,t,n){e.exports={container:"MovieDetails_container__2rS2n",MovieDetails:"MovieDetails_MovieDetails__3X94r",MovieDetailsItem:"MovieDetails_MovieDetailsItem__2Mn2S",MovieDetails__image:"MovieDetails_MovieDetails__image__1kOe3",moviedetails__link:"MovieDetails_moviedetails__link__18t1O",link:"MovieDetails_link__30Dv5",activeLink:"MovieDetails_activeLink__3979S MovieDetails_link__30Dv5"}},71:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var c=n(56),i=n(0),a=n(2),r=n(9),o=n(60),s=n(59),l=n(67),u=n.n(l),h=n(1),f=new s.a;function v(){var e=Object(a.h)().movieId,t=Object(i.useState)([]),n=Object(c.a)(t,2),r=n[0],s=n[1];return Object(i.useEffect)((function(){f.movieId=e,f.fetchCastById().then((function(e){s(e.cast)})).catch((function(e){}))}),[e]),Object(h.jsx)("div",{children:r.length>0?Object(h.jsx)("ul",{className:u.a.castGallery,children:r.map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsx)("div",{className:u.a.ImgThumb,children:e.profile_path?Object(h.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w200").concat(e.profile_path),alt:e.name,className:u.a.CastImage}):Object(h.jsx)("img",{src:o.a,alt:e.name,width:"200"})}),Object(h.jsx)("p",{children:e.name}),Object(h.jsxs)("p",{children:["Character: ",e.character]})]},e.cast_id)}))}):"We don't have cast info for this movie."})}var d=new s.a;function j(){var e=Object(a.h)().movieId,t=Object(i.useState)([]),n=Object(c.a)(t,2),r=n[0],o=n[1];return console.log(e),Object(i.useEffect)((function(){d.movieId=e,d.fetchReviewsById().then((function(e){console.log(e),o(e.results)})).catch((function(e){}))}),[e]),Object(h.jsx)("div",{children:r.length>0?Object(h.jsx)("ul",{children:r.map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsx)("h3",{children:e.author}),Object(h.jsx)("p",{children:e.content})]},e.author)}))}):"We don't have any reviews for this movie."})}var b=n(68),m=n.n(b),p=new s.a;function g(){var e=Object(a.h)().movieId,t=Object(a.i)(),n=t.url,s=t.path,l=Object(i.useState)([]),u=Object(c.a)(l,2),f=u[0],d=u[1],b=Object(a.f)(),g=Object(a.g)();console.log(b),console.log(g),Object(i.useEffect)((function(){p.movieId=e,p.fetchMoviesById().then((function(e){d(e)})).catch((function(e){}))}),[e]);return Object(h.jsxs)("div",{className:m.a.container,children:[Object(h.jsx)("button",{type:"button",onClick:function(){var e,t,n;b.push(null!==(e=null===g||void 0===g||null===(t=g.state)||void 0===t||null===(n=t.from)||void 0===n?void 0:n.location)&&void 0!==e?e:"/movies")},children:"Go back"}),Object(h.jsxs)("div",{className:m.a.MovieDetails,children:[f.poster_path?Object(h.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(f.poster_path),alt:f.original_title,className:m.a.MovieDetails__image}):Object(h.jsx)("img",{src:o.a,alt:"",width:"320",height:"480"}),Object(h.jsxs)("div",{className:m.a.MovieDescr,children:[f.title?Object(h.jsx)("h1",{children:f.title}):Object(h.jsx)("h1",{children:f.original_title}),Object(h.jsxs)("p",{children:["Vote average: ",f.vote_average]}),Object(h.jsx)("h2",{children:"Overview"}),Object(h.jsx)("p",{children:f.overview}),Object(h.jsx)("h2",{children:"Genres"}),Object(h.jsx)("ul",{children:f.genres&&f.genres.map((function(e){return Object(h.jsx)("li",{children:e.name},e.id)}))})]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:m.a.MovieDetails__link,children:[Object(h.jsx)(r.c,{to:{pathname:"".concat(n,"/cast"),state:{from:{location:g,label:"back to home"}}},className:m.a.link,activeClassName:m.a.activeLink,children:"Cast"}),Object(h.jsx)(r.c,{to:{pathname:"".concat(n,"/reviews"),state:{from:{location:g,label:"back to home"}}},className:m.a.link,activeClassName:m.a.activeLink,children:"Reviews"})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(a.c,{children:[Object(h.jsx)(a.a,{path:"".concat(s,"/cast"),children:Object(h.jsx)(v,{})}),Object(h.jsx)(a.a,{path:"".concat(s,"/reviews"),children:Object(h.jsx)(j,{})})]})]})}}}]);
//# sourceMappingURL=MovieDetails.517b6949.chunk.js.map