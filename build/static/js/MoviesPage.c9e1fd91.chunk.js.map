{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","services/apiService.js","components/Button/Button.js","components/Button/Button.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Searchbar/Searchbar.module.css","pages/Movies/MoviesPage.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Searchbar/Searchbar.js","pages/Movies/MoviesPage.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","PicsApiService","this","searchQuery","page","movieId","URL","fetch","then","response","json","data","total_results","newQuery","id","newId","Button","handleOnClick","type","className","styles","onClick","module","exports","_toConsumableArray","arrayLikeToArray","iter","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","Searchbar","getSearchQuery","useState","setSearchQuery","SearchForm","onSubmit","e","preventDefault","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","SearchForm__button","SearchForm__button__label","newPicsApiService","MoviesPage","history","useHistory","location","useLocation","url","useRouteMatch","searchResults","setSearchResults","status","setStatus","pages","setPages","setPage","showSpiner","setShowSpiner","search","searchValue","URLSearchParams","get","useEffect","query","resetPage","fetchSearchMovies","result","results","total_pages","catch","error","MoviesGallery","map","searchResult","index","to","pathname","state","label","link","title","incrementPage","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","alert"],"mappings":"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","file":"static/js/MoviesPage.c9e1fd91.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default class PicsApiService {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n    this.movieId = null;\r\n  }\r\n\r\n  fetchSearchMovies() {\r\n    const API_KEY = '51424edfe4a0fc9e4606a6acf74e98bb';\r\n    const BASE_URL = 'https://api.themoviedb.org/3/';\r\n    const URL = `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\r\n    return fetch(URL)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  fetchTrendingFilms() {\r\n    const API_KEY = '51424edfe4a0fc9e4606a6acf74e98bb';\r\n    const BASE_URL = 'https://api.themoviedb.org/3/';\r\n    const URL = `${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=${this.page}`;\r\n    return fetch(URL)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  fetchMoviesById() {\r\n    const API_KEY = '51424edfe4a0fc9e4606a6acf74e98bb';\r\n    const BASE_URL = 'https://api.themoviedb.org/3/';\r\n    const URL = `${BASE_URL}movie/${this.movieId}?api_key=${API_KEY}`;\r\n    return fetch(URL)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  fetchCastById() {\r\n    const API_KEY = '51424edfe4a0fc9e4606a6acf74e98bb';\r\n    const BASE_URL = 'https://api.themoviedb.org/3/';\r\n    const URL = `${BASE_URL}movie/${this.movieId}/credits?api_key=${API_KEY}`;\r\n    return fetch(URL)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  fetchReviewsById() {\r\n    const API_KEY = '51424edfe4a0fc9e4606a6acf74e98bb';\r\n    const BASE_URL = 'https://api.themoviedb.org/3/';\r\n    const URL = `${BASE_URL}movie/${this.movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\r\n    return fetch(URL)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  getHits(total_results) {\r\n    this.total_results = total_results;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n\r\n  get movieId() {\r\n    return this.id;\r\n  }\r\n\r\n  set movieId(newId) {\r\n    this.id = newId;\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from 'components/Button/Button.module.css';\r\n\r\nexport function Button({ handleOnClick }) {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={handleOnClick}>\r\n      LoadMore\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  handleOnClick: PropTypes.func,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2P0Iw\"};","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__1jPOC\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2ZVX5\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__1x_QW\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2B9zz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"MoviesPage_link__2Ngtw\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport styles from 'components/Searchbar/Searchbar.module.css';\r\n\r\nexport function Searchbar({ getSearchQuery }) {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const handleOnSubmit = e => {\r\n    e.preventDefault();\r\n    getSearchQuery(searchQuery);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  const handleOnChange = e => setSearchQuery(e.target.value);\r\n\r\n  return (\r\n    <form className={styles.SearchForm} onSubmit={handleOnSubmit}>\r\n      <input\r\n        className={styles.SearchForm__input}\r\n        value={searchQuery}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search movie\"\r\n        onChange={handleOnChange}\r\n      />\r\n      <button type=\"submit\" className={styles.SearchForm__button}>\r\n        <span className={styles.SearchForm__button__label}>Search</span>\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  getSearchQuery: PropTypes.func,\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { useHistory, useLocation } from 'react-router';\r\nimport PicsApiService from 'services/apiService';\r\nimport { Searchbar } from 'components/Searchbar/Searchbar';\r\nimport { Button } from 'components/Button/Button';\r\nimport Spiner from 'components/Loader/Loader';\r\nimport styles from 'pages/Movies/MoviesPage.module.css';\r\n\r\nconst newPicsApiService = new PicsApiService();\r\n\r\nexport default function MoviesPage() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { url } = useRouteMatch();\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [status, setStatus] = useState('init');\r\n  const [pages, setPages] = useState(null);\r\n  const [page, setPage] = useState(null);\r\n  const [showSpiner, setShowSpiner] = useState(false);\r\n\r\n  const getSearchQuery = searchQuery => {\r\n    history.push({ ...location, search: `query=${searchQuery}` });\r\n  };\r\n\r\n  const searchValue = new URLSearchParams(location.search).get('query');\r\n\r\n  useEffect(() => {\r\n    if (!searchValue || searchValue === '') {\r\n      return;\r\n    }\r\n    setStatus('pending');\r\n    newPicsApiService.query = searchValue;\r\n    newPicsApiService.resetPage();\r\n    newPicsApiService\r\n      .fetchSearchMovies()\r\n      .then(result => {\r\n        setSearchResults(result.results);\r\n        setPages(result.total_pages);\r\n        setStatus('success');\r\n      })\r\n      .catch(error => {\r\n        setStatus('error');\r\n      });\r\n  }, [searchValue]);\r\n\r\n  const handleOnClick = e => {\r\n    setShowSpiner(true);\r\n    newPicsApiService.incrementPage();\r\n    newPicsApiService\r\n      .fetchSearchMovies()\r\n      .then(result => {\r\n        setSearchResults(prevState => [...prevState, ...result.results]);\r\n        setShowSpiner(false);\r\n        setPages(result.total_pages);\r\n        setPage(result.page);\r\n        setStatus('success');\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        setStatus('error');\r\n      });\r\n  };\r\n\r\n  if (status === 'init') {\r\n    return <Searchbar getSearchQuery={getSearchQuery} />;\r\n  }\r\n  if (status === 'pending') {\r\n    return (\r\n      <>\r\n        <Searchbar getSearchQuery={getSearchQuery} />\r\n        <Spiner />\r\n      </>\r\n    );\r\n  }\r\n  if (status === 'success') {\r\n    return (\r\n      <>\r\n        <Searchbar getSearchQuery={getSearchQuery} />\r\n        {showSpiner && <Spiner />}\r\n        {searchResults.length > 0 ? (\r\n          <>\r\n            <ul className={styles.MoviesGallery}>\r\n              {searchResults.map((searchResult, index) => (\r\n                <li key={index}>\r\n                  <Link\r\n                    to={{\r\n                      pathname: `${url}/${searchResult.id}`,\r\n                      state: {\r\n                        from: { location, label: `Back to results` },\r\n                      },\r\n                    }}\r\n                    className={styles.link}\r\n                  >\r\n                    {searchResult.title}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            {page !== pages && <Button handleOnClick={handleOnClick} />}\r\n          </>\r\n        ) : (\r\n          <p>Sorry, nothing was found for your query!</p>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n  if (status === 'error') {\r\n    alert('ERROR!!');\r\n  }\r\n}\r\n"],"sourceRoot":""}